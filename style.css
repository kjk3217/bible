/* ──────────────────────────────
   전역 변수
──────────────────────────────── */
:root{
  --bg            : #287f6e;
  --fg            : #ffffff;
  --text-green    : #1f6d5e;
  --font-base     : clamp(28px, 4vw, 32px);
  --radius        : 14px;
  --shadow        : 0 6px 0 rgba(0,0,0,.25);
  --shadow-press  : 0 2px 0 rgba(0,0,0,.25);
  --btn-gap       : 2rem;
  --section-pad   : 4vh 0 6vh;
}

/* ───── Reset & 기본 ───── */
html,body{
  margin:0;padding:0;width:100%;height:100%;
  font-family:"Noto Sans KR",sans-serif;
  background:var(--bg);color:var(--fg);
  font-size:var(--font-base);line-height:1.6;
  -webkit-tap-highlight-color:transparent;
}
.screen{display:none;height:100%;}
.screen.active{display:block;}
*:focus-visible{outline:3px solid #ffe600;outline-offset:2px;}

/* ───── 공통 버튼 ───── */
button{
  width:100%;min-height:48px;
  padding:1rem .5rem;
  border:none;border-radius:var(--radius);
  font-weight:700;font-size:1em;text-align:center;
  cursor:pointer;user-select:none;
  transition:transform .1s, box-shadow .1s;
}
button:active{transform:translateY(4px);box-shadow:var(--shadow-press);}
@media (prefers-reduced-motion: reduce){
  button,button:active{transition:none;box-shadow:none;transform:none;}
}

/* ───── 메인 & 목록 ───── */
.container{display:flex;flex-direction:column;justify-content:space-between;align-items:center;height:100%;padding:var(--section-pad);}
.app-title{font-size:40px;font-weight:900;margin:0;text-align:center;}
.menu,.chapter-list{display:flex;flex-direction:column;align-items:center;gap:var(--btn-gap);width:80%;max-width:340px;}
.menu-btn,.chapter-btn{background:var(--fg);color:var(--text-green);box-shadow:var(--shadow);}
.chapter-list{height:100%;overflow-y:auto;padding-top:4vh;}

/* ───── 강해 내용 ───── */
.content-wrap{display:flex;flex-direction:column;height:100%;}
.content-header{flex:0 0 auto;padding:1rem 0;border-bottom:2px solid var(--fg);text-align:center;}
.content-header h2{margin:0;font-size:1em;font-weight:900;color:var(--fg);}
.content-body{flex:1 1 auto;overflow-y:auto;padding:1.2rem 1.5rem;text-align:left;word-break:keep-all;}
.content-footer{flex:0 0 auto;padding:2vh 0 4vh;display:flex;justify-content:center;}
.list-btn{max-width:500px;background:var(--fg);color:var(--text-green);box-shadow:var(--shadow);}

/* ───── 설정 화면 ───── */
.settings-wrap{display:flex;flex-direction:column;gap:var(--btn-gap);align-items:center;padding:var(--section-pad);}
.card{width:90%;max-width:350px;padding:1.2rem;background:var(--fg);color:var(--text-green);border-radius:var(--radius);box-shadow:var(--shadow);}
.card-title{font-weight:700;margin-bottom:.8rem;display:block;}
.range-val{margin-top:.6rem;font-weight:700;}
input[type=range]{-webkit-appearance:none;width:100%;height:6px;background:var(--text-green);border-radius:3px;cursor:pointer;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;border-radius:50%;background:var(--text-green);}
input[type=range]::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:var(--text-green);}
.settings-actions{display:flex;gap:1rem;width:90%;max-width:350px;}
.save-btn{background:#f9c000;color:var(--text-green);}
.close-btn{background:var(--text-green);color:var(--fg);}

/* ───── 팝업 ───── */
.popup{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:rgba(0,0,0,.45);z-index:999;}
.popup-box{background:var(--fg);color:var(--text-green);padding:1.4rem 2rem;border-radius:var(--radius);font-weight:700;box-shadow:var(--shadow);}

/* ───── 360 px 이하 ───── */
@media (max-width:360px){
  .card{padding:1rem;}
  button{word-break:keep-all;}
}

/* ───── 가로 화면 ───── */
@media (orientation:landscape){
  .content-body{padding:1rem 3rem;}
  .content-footer{padding:1vh 0 2vh;}
  .settings-wrap{padding:2vh 0 4vh;}
}

/* ───── 태블릿 이상 ───── */
@media (min-width:768px){
  :root{--btn-gap:2.5rem;}
  .app-title{font-size:48px;}
  .container,.settings-wrap{max-width:680px;margin:0 auto;}
  .menu,.chapter-list{max-width:480px;}
}

/* ───── 그림자 제거 옵션 ───── */
@media (prefers-reduced-motion: reduce){
  *{box-shadow:none!important;}
}
